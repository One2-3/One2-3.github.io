{{- /* Renders widget: testimonials */ -}} {{- $p := .widget -}} {{- $c :=
(index $p.Params "content" | default dict) -}} {{- $items := (index $c "items" |
default (slice)) -}}

<section class="py-16">
  <div class="grid md:grid-cols-3 gap-6">
    {{- range $t := $items -}} {{- /* 이미지 URL 계산: http/https/절대경로 →
    그대로, 그 외 → assets/media 기본 */ -}} {{- $img := (index $t "image" |
    default "") -}} {{- $url := "" -}} {{- if $img -}} {{- if or (hasPrefix $img
    "http://") (hasPrefix $img "https://") (hasPrefix $img "/") -}} {{- $url =
    $img -}} {{- else -}} {{- $url = (printf "/media/%s" $img) -}} {{- end -}}
    {{- end -}}

    <div class="rounded-2xl p-6 shadow bg-white/60 dark:bg-white/5">
      {{- if $url -}}
      <img
        class="w-16 h-16 rounded-full mb-3"
        src="{{ $url | relURL }}"
        alt=""
      />
      {{- end -}} {{- with (index $t "text") -}}
      <p class="italic mb-3">“{{ . }}”</p>
      {{- end -}}
      <div class="text-sm opacity-80">
        {{- with (index $t "name") -}}<strong>{{ . }}</strong>{{- end -}} {{-
        with (index $t "role") -}} · {{ . }}{{- end -}}
      </div>
    </div>
    {{- end -}}
  </div>
</section>
