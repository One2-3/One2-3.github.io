{{- /* Renders widget: about.avatar */ -}}
{{- $p := .widget -}}
{{- $params := $p.Params -}}
{{- $c := (index $params "content" | default dict) -}}
{{- $title := (index $c "title") -}}
{{- $text  := (index $c "text") -}}
{{- $avatar := (index $c "avatar" | default "") -}}
{{- $btn := (index $c "button" | default dict) -}}

<section class="py-16">
  <div class="max-w-4xl mx-auto grid md:grid-cols-[160px_1fr] gap-8 items-center">
    <div class="flex justify-center">
      {{- if $avatar -}}
        {{- $src := cond (hasPrefix $avatar "/") $avatar (printf "/%s" $avatar) -}}
        <img src="{{ $src | relURL }}" alt="avatar" class="w-40 h-40 rounded-full object-cover shadow">
      {{- else -}}
        <div class="w-40 h-40 rounded-full bg-gray-300 dark:bg-gray-700"></div>
      {{- end -}}
    </div>
    <div>
      {{- with $title -}}<h2 class="text-3xl font-semibold mb-3">{{ . }}</h2>{{- end -}}
      {{- with $text  -}}<div class="prose dark:prose-invert max-w-none mb-4">{{ . | markdownify }}</div>{{- end -}}
      {{- with $btn -}}
        <a href="{{ (index . "url") }}" class="inline-block px-4 py-2 rounded-xl shadow bg-black/80 text-white">
          {{ (index . "text") }}
        </a>
      {{- end -}}
    </div>
  </div>
</section>
